-- Mys2 Hub | Xeno-Compatible GUI (ESP Updated with Brainrot Gods & Mythics)

local player = game.Players.LocalPlayer
repeat wait() until player.Character and player.Character:FindFirstChild("HumanoidRootPart")
local char = player.Character
local hrp = char:WaitForChild("HumanoidRootPart")
local humanoid = char:FindFirstChildOfClass("Humanoid") or char:WaitForChild("Humanoid")

local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local UserInputService = game:GetService("UserInputService")
local HttpService = game:GetService("HttpService")

local speedEnabled = getgenv()._speedToggle or false
local desiredSpeed = 90

local discordInvite = "https://discord.gg/spnTPXSvMk"
local discordWebhook = "https://discord.com/api/webhooks/1396066702965346316/NDb7LEGDE9b5y3ymYEyuJcJdfOm8xotkuGNVsqTbfxkFmH4PKEsRc5GWaROkA8iZBqU6"

-- ESP Data Tables
local mythicRates = {
    ["Frigo Camelo"] = "1.2K$/sec — Sells for 300K",
    ["Orangutini Ananassini"] = "1.7K$/sec — Sells for 400K",
    ["Rhino Toasterino"] = "2.1K$/sec — Sells for 450K",
    ["Bombardiro Crocodilo"] = "2.5K$/sec — Sells for 500K",
    ["Bombombini Gusini"] = "5K$/sec — Sells for 1M",
    ["Cavallo Virtuoso"] = "7.5K$/sec — Sells for 2.5M",
    ["Spioniro Golubiro"] = "3.5K$/sec — Sells for 750K",
    ["Zibra Zubra Zibralini"] = "6K$/sec — Sells for 1M",
    ["Tigrilini Watermelini"] = "7.5K$/sec — Sells for 1M"
}

local brainrotGodRates = {
    ["Cocofanto Elefanto"] = "10K$/sec — Sells for 5M",
    ["Girafa Celestre"] = "20K$/sec — Sells for 7.5M",
    ["Gattatino Neonino"] = "35K$/sec — Sells for 7.5M",
    ["Matteo"] = "50K$/sec — Sells for 10M",
    ["Tralalero Tralala"] = "50K$/sec — Sells for 10M",
    ["Espresso Signora"] = "70K$/sec — Sells for 25M",
    ["Odin Din Din Dun"] = "75K$/sec — Sells for 15M",
    ["Statutino Libertino"] = "75K$/sec — Sells for 20M",
    ["Trenostruzzo Turbo 3000"] = "150K$/sec — Sells for 25M",
    ["Ballerino Lololo"] = "200K$/sec — Sells for 35M",
    ["Tigroligre Frutonni"] = "60K$/sec — Sells for 15M",
    ["Orcalero Orcala"] = "100K$/sec — Sells for 15M"
}

-- ESP Drawings
local Drawing = Drawing
local espEnabled, godsESPEnabled, mythicsESPEnabled = false, false, false
local espBoxes, godESPLabels, mythicESPLabels = {}, {}, {}

local function createBox()
    local box = Drawing.new("Square")
    box.Visible = false
    box.Color = Color3.new(1, 0, 0)
    box.Thickness = 1
    box.Filled = false
    return box
end

local function createLabel(color)
    local label = Drawing.new("Text")
    label.Size = 16
    label.Center = true
    label.Outline = true
    label.Visible = false
    label.Color = color or Color3.new(1, 1, 1)
    return label
end

RunService.RenderStepped:Connect(function()
    for _, plr in pairs(game.Players:GetPlayers()) do
        if plr ~= player then
            if not espBoxes[plr] then espBoxes[plr] = createBox() end
            local box = espBoxes[plr]
            local hrp = plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")
            if espEnabled and hrp then
                local pos, onscreen = workspace.CurrentCamera:WorldToViewportPoint(hrp.Position)
                if onscreen then
                    box.Position = Vector2.new(pos.X - 25, pos.Y - 25)
                    box.Size = Vector2.new(50, 50)
                    box.Visible = true
                else
                    box.Visible = false
                end
            else
                box.Visible = false
            end
        end
    end

    for _, npc in pairs(Workspace:GetDescendants()) do
        if npc:IsA("Model") and npc:FindFirstChild("HumanoidRootPart") then
            local name = npc.Name
            local hrp = npc.HumanoidRootPart
            local pos, onscreen = workspace.CurrentCamera:WorldToViewportPoint(hrp.Position)

            if mythicsESPEnabled and mythicRates[name] then
                if not mythicESPLabels[npc] then mythicESPLabels[npc] = createLabel(Color3.new(1, 0, 1)) end
                local label = mythicESPLabels[npc]
                label.Text = name .. " — " .. mythicRates[name]
                label.Position = Vector2.new(pos.X, pos.Y - 30)
                label.Visible = onscreen
            elseif mythicESPLabels[npc] then
                mythicESPLabels[npc].Visible = false
            end

            if godsESPEnabled and brainrotGodRates[name] then
                if not godESPLabels[npc] then godESPLabels[npc] = createLabel(Color3.new(0, 0.7, 1)) end
                local label = godESPLabels[npc]
                label.Text = name .. " — " .. brainrotGodRates[name]
                label.Position = Vector2.new(pos.X, pos.Y - 30)
                label.Visible = onscreen
            elseif godESPLabels[npc] then
                godESPLabels[npc].Visible = false
            end
        end
    end
end)

-- GUI Button Registration (add to your existing button setup)
autoToggle("Player ESP", function(enabled)
    espEnabled = enabled
end)

autoToggle("Mythics ESP", function(enabled)
    mythicsESPEnabled = enabled
end)

autoToggle("Brainrot Gods ESP", function(enabled)
    godsESPEnabled = enabled
end)
